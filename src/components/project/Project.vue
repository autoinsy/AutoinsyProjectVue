<template>
  <div class="">
    <div class="allsize">
      全部结果 > 产品列表
    </div>
    <!---->
    <div class="centermy">
      <div class="pro_box_top">
        <table>
          <tbody>
          <tr>
            <td class="td_so">品牌：</td>
            <td>
              <ul>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
              </ul>
            </td>
          </tr>
          <tr>
            <td class="td_so">汽车装饰：</td>
            <td>
              <ul>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
              </ul>
            </td>
          </tr>
          <tr>
            <td class="td_so">维修保养：</td>
            <td>
              <ul>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
              </ul>
            </td>
          </tr>
          <tr>
            <td class="td_so">系统：</td>
            <td>
              <ul>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
                <li><a href="javascript:"></a></li>
              </ul>
            </td>
          </tr>
          <tr>
            <td class="td_so">高级选项：</td>
            <td>
              <ul>
                <li>
                  <select>
                    <option>类别</option>
                  </select>
                </li>
                <li>
                  <select>
                    <option>配件类别</option>
                  </select>
                </li>
                <li>
                  <select>
                    <option>其他分类</option>
                  </select>
                </li>
              </ul>
            </td>
          </tr>
          </tbody>
        </table>
        <div class="pro_f">
          <div id="J_filter" class="filter">
            <div class="f-line top" style="height: 35px;">
              <div class="f-sort">
                <a href="" class="curr" onclick="">
                  <span class="fs-tit">综合</span>
                  <em class="fs-down">
                    <i class="arrow"></i>
                  </em>
                </a>
                <a href="" class="" onclick="SEARCH.sort('3')">
                  <span class="fs-tit">销量</span>
                  <em class="fs-down">
                    <i class="arrow"></i>
                  </em>
                </a><a href="" class="" onclick="SEARCH.sort('4')">
                <span class="fs-tit">评论数</span>
                <em class="fs-down">
                  <i class="arrow"></i>
                </em>
              </a>
                <a href="" class="" onclick="SEARCH.sort('5')">
                  <span class="fs-tit">新品</span>
                  <em class="fs-down">
                    <i class="arrow"></i>
                  </em>
                </a>
                <a href="" class="" onclick="SEARCH.sort('2')">
                  <span class="fs-tit">价格</span>
                  <em class="fs-up">
                    <i class="arrow-top"></i>
                    <i class="arrow-bottom"></i>
                  </em>
                </a>
              </div>
              <div class="f-datagrid">
                <a href="" class="fdg-item" data-range="0-35" data-tips="8%的用户喜欢的价位">
                  <span class="def-bar" style="height:17%"></span>
                </a>
                <a href="" class="fdg-item" data-range="35-91" data-tips="35%的用户喜欢的价位">
                  <span class="def-bar" style="height:74%"></span>
                </a>
                <a href="" class="fdg-item" data-range="91-182" data-tips="40%的用户喜欢的价位">
                  <span class="def-bar" style="height:85%"></span>
                </a>
                <a href="" class="fdg-item" data-range="182-224" data-tips="14%的用户喜欢的价位">
                  <span class="def-bar" style="height:30%"></span>
                </a>
                <a href="" class="fdg-item" data-range="224-¥" data-tips="4%的用户喜欢的价位">
                  <span class="def-bar" style="height:9%"></span>
                </a>
              </div>
              <div id="J_selectorPrice" class="f-price">
                <div class="f-price-set">
                  <div class="fl">
                    <input type="text" class="input-txt" autocomplete="off" style="color:#ccc" value="¥">
                  </div>
                  <em>-</em>
                  <div class="fl">
                    <input type="text" class="input-txt" autocomplete="off" style="color:#ccc" value="¥">
                  </div>
                </div>
                <div class="f-price-edit">
                  <a href="" class="item1 J-price-cancle">清空</a>
                  <a href="" class="item2 J-price-confirm"
                     data-url="search?keyword=%E9%9B%A8%E5%88%AE%E5%99%A8&amp;enc=utf-8&amp;qrst=1&amp;rt=1&amp;stop=1&amp;vt=2&amp;wq=%E9%9B%A8%E5%88%AE%E5%99%A8&amp;ev=exprice_%7Bmin%7D-%7Bmax%7D%5E&amp;uc=0#J_searchWrap">确定</a>
                </div>
              </div>
              <div id="J_topPage" class="f-pager">
                <span class="fp-text">
                  <b>1</b>
                  <em>/</em>
                  <i>100</i>
                </span>
                <a class="fp-prev disabled" href="">&lt;</a>
                <a class="fp-next" onclick="SEARCH.page(3)" href="" title="使用方向键右键也可翻到下一页哦！">&gt;</a>
              </div>
              <div class="f-result-sum">
                共<span id="J_resCount" class="num">61万+</span>件商品
              </div>

              <span class="clr"></span>
            </div>
          </div>
        </div>
        <div class="clear"></div>
      </div>
      <!--top over-->
      <div class="left">
        <div class="prolist">
          <ul>
            <li v-for="(good, index) in goodsList">
              <router-link :to="{path: '/ProjectDetails', query: {goodsId: good.goodsId}}">
                <div class="prolist_img">
                  <img v-bind:src="good.goodsPic" width="220" height="220"/>
                </div>
                <p>
                  <span style="color: #ff7300;">
                  ￥<span style="font-size: 24px">{{good.price}}</span>
                  </span>
                </p>
                <p>{{good.name}}</p>
                <p>
                  <span style="color: #ff7300;">0</span> 条评价
                </p>
                <p>店铺的名字</p>
                <p>
                  <img src="../../assets/images/22.jpg"/>
                </p>
              </router-link>
              <div class="proul">
                <ul>
                  <li>
                    <a href="javascript:"> 对比</a>
                  </li>
                  <li>
                    <a href="javascript:"> 关注</a>
                  </li>
                  <li v-bind:value="good.goodsCode">
                    <button class="btn-link" @click="addToShoppingCart">
                      <img src="../../assets/images/7.png" style="margin-right: 10px"/>
                      加入购物车
                    </button>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
          <div class="clear"></div>
          <!-- 分页开始 -->
          <div class="tcdPageCode"></div>
          <!-- 分页结束 -->
        </div>
      </div>
      <div class="right">
        <div class="serve_right" style="margin-top: 20px">
          <div class="serve_right_title">
            热销排行
          </div>
          <div class="serve_right_li">
            <ul>
              <li>
                <router-link to='/ProjectDetails'>
                  <div class="left">
                    <div class="serve_img"><img src="../../assets/images/02.jpg" width="87px" height="70"/></div>
                  </div>
                  <div class="left">
                    <div class="serve_p">
                      <p>各种文字各种文字各种文字各种文字各种文字各种文字种文字各种文字</p>
                    </div>
                  </div>
                </router-link>
              </li>
              <li>
                <div class="left">
                  <div class="serve_img"><img src="../../assets/images/02.jpg" width="87px" height="70"/></div>
                </div>
                <div class="left">
                  <div class="serve_p">
                    <p></p>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="clear"></div>
    <!--中间内容 over-->
  </div>
</template>

<script>
  // $(".tcdPageCode").createPage({
  //   pageCount:20,
  //   current:1,
  //   backFn:function(p){
  //     //console.log(p);
  //   }
  // });
  export default {
    name: "Project",
    data() {
      return {
        goodsList: [],
        cur: '1',
        all: '',
        allElement: '',
      }
    },
    mounted: function () {
      let _this = this;
      this.$axios({
        url: _this.HOME + '/goods/getAllGoods?page=' + _this.cur,
      }).then(res => {
        _this.goodsList = res.data.data.content;
        _this.all = res.data.data.totalPages;
        _this.allElement = res.data.data.totalElement;
      });
    },
    methods: {
      addToShoppingCart: function (e) {
        let goodCode = $(e.target).parent().attr("value");
        let userCode = sessionStorage.getItem("userCode");
        let _this = this;
        if (userCode) {
          this.$axios({
            url: _this.HOME + '/cart/add',
            method: 'post',
            data: _this.qs.stringify({
              "userCode": userCode,
              "goodCode": goodCode,
              "purchaseQuantity": 0,
            })
          }).then(res => {
            alert(res.data.message);
          })
        } else {
          alert("您还没有登录，请登录后再加入购物车。")
        }
      }
    },
  }
</script>

<style scoped>

</style>
